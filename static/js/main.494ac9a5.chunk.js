(this["webpackJsonpgoit-react-hw-starter"]=this["webpackJsonpgoit-react-hw-starter"]||[]).push([[0],{11:function(t,e,o){t.exports={root:"ImageGalleryItem_root__Mtqyw",image:"ImageGalleryItem_image__2xsbt"}},12:function(t,e,o){t.exports={overlay:"Modal_overlay__2GjdW",root:"Modal_root__3qDQt"}},14:function(t,e,o){t.exports={root:"ImageGallery_root__2X-Wk"}},15:function(t,e,o){t.exports={root:"Button_root__2bb-J"}},17:function(t,e,o){t.exports={root:"Loader_root__2xEwR"}},18:function(t,e,o){t.exports={root:"App_root__1Jh3p"}},23:function(t,e,o){},46:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),r=o(9),c=o.n(r),i=(o(23),o(24),o(13)),s=o(3),l=o(4),u=o(6),h=o(5),m=o(8),d=o(7),g=o.n(d),p=o(1),b=function(t){Object(u.a)(o,t);var e=Object(h.a)(o);function o(){var t;Object(s.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={img:""},t.handleChange=function(e){var o=e.target.value;t.setState({img:o.toLowerCase()})},t.handleSubmit=function(e){e.preventDefault();var o=t.state.img,a=t.props.onSubmit;""!==o.trim()?(a(o),t.clearForm()):m.b.warning("Tap some word for searching!")},t.clearForm=function(){t.setState({img:""})},t}return Object(l.a)(o,[{key:"render",value:function(){return Object(p.jsx)("header",{className:g.a.root,children:Object(p.jsxs)("form",{className:g.a.form,onSubmit:this.handleSubmit,children:[Object(p.jsx)("button",{type:"submit",className:g.a.button,children:Object(p.jsx)("span",{className:g.a.buttonLabel,children:"Search"})}),Object(p.jsx)("input",{value:this.state.img,onChange:this.handleChange,className:g.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),o}(a.Component),f=o(11),j=o.n(f);function v(t){var e=t.onClick,o=t.img,a=o.webformatURL,n=o.tags,r=o.id;return Object(p.jsx)("li",{className:j.a.root,children:Object(p.jsx)("img",{src:a,alt:n,id:r,className:j.a.image,onClick:e})})}var O=o(14),_=o.n(O);function x(t){var e=t.searchQuery,o=t.onClick;return Object(p.jsx)("ul",{className:_.a.root,children:e&&e.map((function(t,e){return Object(p.jsx)(v,{img:t,onClick:function(){return o(e)}},t.id)}))})}var y=o(2),k=o.n(y),C=o(15),w=o.n(C);function S(t){var e=t.text,o=t.onClick;return Object(p.jsx)("button",{className:w.a.root,type:"button",onClick:o,children:e})}S.defaultProps={onClick:function(){return null}},S.propType={onClick:k.a.func};var I=o(16),L=o.n(I),N=o(17),M=o.n(N);function E(){return Object(p.jsx)("div",{className:M.a.root,children:Object(p.jsx)(L.a,{type:"Bars",color:"#ffffff",height:80,width:80})})}var A=o(12),B=o.n(A),F=function(t){Object(u.a)(o,t);var e=Object(h.a)(o);function o(){var t;Object(s.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).onImagesClick=function(e){"Escape"===e.code&&t.props.onClose()},t.handleBackdropClick=function(e){e.currentTarget===e.target&&t.props.onClose()},t}return Object(l.a)(o,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onImagesClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onImagesClick)}},{key:"render",value:function(){var t=this.props,e=t.img,o=t.tags;return Object(p.jsx)("div",{className:B.a.overlay,onClick:this.handleBackdropClick,children:Object(p.jsx)("div",{className:B.a.modal,children:Object(p.jsx)("img",{src:e,alt:o})})})}}]),o}(a.Component),D=o(18),J=o.n(D),T=function(t){Object(u.a)(o,t);var e=Object(h.a)(o);function o(){var t;Object(s.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={image:[],searchImage:null,page:null,loading:!1,error:null,showModal:!1,largeImage:""},t.onClickLoadMore=function(){t.setState((function(t){return{page:t.page+1}}))},t.modalShow=function(e){t.setState({showModal:!0,largeImage:t.state.image[e].largeImageURL})},t.modalHide=function(){t.setState({showModal:!1})},t.onFormSubmit=function(e){t.setState({searchImage:e,page:1,image:[]})},t.notify=function(){m.b.error("\ud83e\udd84 Wow so easy!",{position:"top-right",autoClose:!1,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},t}return Object(l.a)(o,[{key:"componentDidUpdate",value:function(t,e){var o,a,n=this;e.searchImage!=this.state.searchImage&&e.page!=this.state.page&&(this.setState({loading:!0}),(o=this.state.searchImage,a=this.state.page,fetch("".concat("https://pixabay.com/api/","?q=").concat(o,"&page=").concat(a,"&key=").concat("21802653-5c558d298eb91101dd530c9b2","&image_type=photo&orientation=horizontal&per_page=8")).then((function(t){return t.ok?t.json():Promise.reject(new Error("Word ".concat((void 0).state.searchImage," is not exist")))}))).then((function(t){n.setState((function(e){return{image:[].concat(Object(i.a)(e.image),Object(i.a)(t.hits))}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(t){return n.setState({error:t})})).finally((function(){return n.setState({loading:!1})})))}},{key:"render",value:function(){var t=this.state,e=t.error,o=t.image,a=t.loading,n=t.showModal,r=t.largeImage;return Object(p.jsxs)("div",{className:J.a.root,children:[Object(p.jsx)(b,{onSubmit:this.onFormSubmit}),Object(p.jsx)(x,{searchQuery:o,onClick:this.modalShow}),0!==o.length&&Object(p.jsx)(S,{text:"Load more",onClick:this.onClickLoadMore}),e?this.notify():null,a&&Object(p.jsx)(E,{}),n&&Object(p.jsx)(F,{onClose:this.modalHide,img:r}),Object(p.jsx)(m.a,{position:"top-right",autoClose:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0})]})}}]),o}(a.Component);c.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root"))},7:function(t,e,o){t.exports={root:"Searchbar_root__1JDrA",form:"Searchbar_form__XuKjc",button:"Searchbar_button__MhnaU",buttonLabel:"Searchbar_buttonLabel__1ARrf",input:"Searchbar_input__2C4aO"}}},[[46,1,2]]]);
//# sourceMappingURL=main.494ac9a5.chunk.js.map