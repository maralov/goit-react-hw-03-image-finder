{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App/App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/App/App.jsx","components/utils/apiService.js","components/utils/constants.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","img","handleChange","value","target","setState","toLowerCase","handleSubmit","e","preventDefault","onSubmit","props","trim","clearForm","toast","warning","className","s","root","form","this","type","button","buttonLabel","onChange","input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","onClick","webformatURL","tags","id","src","alt","image","ImageGallery","searchQuery","map","i","Button","text","defaultProps","propType","PropTypes","func","Loader","color","height","width","Modal","onImagesClick","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","overlay","modal","App","searchImage","page","loading","error","showModal","largeImage","onClickLoadMore","prevState","modalShow","index","largeImageURL","modalHide","onFormSubmit","notify","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","_","cerrentPage","fetch","then","response","ok","json","Promise","reject","Error","data","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","length","newestOnTop","rtl","pauseOnFocusLoss","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.494ac9a5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ImageGalleryItem_root__Mtqyw\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"root\":\"Modal_root__3qDQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ImageGallery_root__2X-Wk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Button_root__2bb-J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Loader_root__2xEwR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__1Jh3p\"};","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    img: '',\n  };\n\n  handleChange = ({ target }) => {\n    const value = target.value;\n\n    this.setState({\n      img: value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { img } = this.state;\n    const { onSubmit } = this.props;\n\n    if (img.trim() === '') {\n      toast.warning('Tap some word for searching!');\n      //   alert('Tap text for searching')\n      return;\n    }\n    onSubmit(img);\n    this.clearForm();\n  };\n\n  clearForm = () => {\n    this.setState({ img: '' });\n  };\n  render() {\n    return (\n      <header className={s.root}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.buttonLabel}>Search</span>\n          </button>\n\n          <input\n            value={this.state.img}\n            onChange={this.handleChange}\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\n\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ onClick, img }) {\n  const { webformatURL, tags, id } = img;\n  return (\n    <li className={s.root}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        id={id}\n        className={s.image}\n        onClick={onClick}\n      />\n    </li>\n  );\n}\n","import React from 'react';\n\nimport ImageGalleryItem from 'components/ImageGalleryItem';\n\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ searchQuery, onClick }) {\n  return (\n    <ul className={s.root}>\n      {searchQuery &&\n        searchQuery.map((img, i) => (\n          <ImageGalleryItem key={img.id} img={img} onClick={() => onClick(i)} />\n        ))}\n    </ul>\n  );\n}\n","import PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\nexport default function Button({ text, onClick }) {\n  return (\n    <button className={s.root} type=\"button\" onClick={onClick}>\n      {text}\n    </button>\n  );\n}\n\nButton.defaultProps = {\n  onClick: () => null,\n};\nButton.propType = {\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport SpinnerLoader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default function Loader() {\n  return (\n    <div className={s.root}>\n      <SpinnerLoader\n        type=\"Bars\"\n        color=\"#ffffff\"\n        height={80}\n        width={80}\n        // timeout={3000}\n      />\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport s from './Modal.module.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onImagesClick);\n  }\n\n  onImagesClick = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onImagesClick);\n  }\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    const { img, tags } = this.props;\n    return (\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          <img src={img} alt={tags} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\n\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\nimport Button from 'components/Button';\nimport Loader from 'components/Loader';\nimport Modal from 'components/Modal';\n\nimport s from './App.module.css';\nimport { fetchMovies } from '../utils/apiService';\n\nexport default class App extends Component {\n  state = {\n    image: [],\n    searchImage: null,\n    page: null,\n    loading: false,\n    error: null,\n    showModal: false,\n    largeImage: '',\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (\n      prevState.searchImage == this.state.searchImage ||\n      prevState.page == this.state.page\n    ) return ;\n\n      this.setState({ loading: true });\n\n      fetchMovies(this.state.searchImage, this.state.page)\n        .then(data => {\n          this.setState(prevState => ({\n            image: [...prevState.image, ...data.hits],\n          }))\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        })\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n  }\n\n  onClickLoadMore = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  modalShow = index => {\n    this.setState({\n      showModal: true,\n      largeImage: this.state.image[index].largeImageURL\n    });\n  };\n\n  modalHide = () => {\n    this.setState({ showModal: false });\n  };\n\n  onFormSubmit = img => {\n    this.setState({ searchImage: img, page: 1, image: [] });\n  };\n\n  notify = () => {\n    toast.error('🦄 Wow so easy!', {\n      position: \"top-right\",\n      autoClose: false,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n  }\n\n  render() {\n    const { error, image, loading, showModal, largeImage } = this.state;\n\n    return (\n      <div className={s.root}>\n        <Searchbar onSubmit={this.onFormSubmit} />\n        <ImageGallery searchQuery={image} onClick={this.modalShow} />\n\n        {image.length !== 0 && (\n          <Button text=\"Load more\" onClick={this.onClickLoadMore} />\n        )}\n\n        {error ? this.notify() : null}\n        {loading && <Loader />}\n        {showModal && <Modal onClose={this.modalHide} img={largeImage} />}\n\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n        />\n      </div>\n    );\n  }\n}\n","import { API_KEY, BASE_API_URL } from './constants';\n\nexport const fetchMovies = (searchQuery, cerrentPage) => {\n  return fetch(\n    `${BASE_API_URL}?q=${searchQuery}&page=${cerrentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=8`,\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(\n        new Error(`Word ${this.state.searchImage} is not exist`),\n      );\n    })\n}\n","export const BASE_API_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '21802653-5c558d298eb91101dd530c9b2';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Searchbar_root__1JDrA\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"buttonLabel\":\"Searchbar_buttonLabel__1ARrf\",\"input\":\"Searchbar_input__2C4aO\"};"],"sourceRoot":""}